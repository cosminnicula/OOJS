<html>
<head>
    <script>
        // Global variables -> BAD
        var names = ['zero', 'one', 'two', 'three'];
        var digit_name = function (n) {
            return names[n];
        }
        console.log(digit_name(3)); //three

        // Function scope (private variables) -> SLOW because every time we call the function, the "names" array is re-created
        var digit_name = function (n) {
            var names = ['zero', 'one', 'two', 'three'];
            return names[n];
        }
        console.log(digit_name(3));

        // Closure
        var digit_name = (function () {
            var names = ['zero', 'one', 'two', 'three'];
            return function (n) {
                return names[n];
            }
        }());
        console.log(digit_name(3));

        // Conditional Closure (more optimised)
        var digit_name = (function () {
            var names;
            return function (n) {
                if(!names) {
                    names = ['zero', 'one', 'two', 'three'];
                }
                return names[n];
            }
        }());
        console.log(digit_name(3));

    </script>
</head>
<body></body>
</html>

